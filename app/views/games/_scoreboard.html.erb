<table class="table table-bodered">
  <tr>
    <% scoreboard.header_row.each.with_index do |cell, i| %>
      <td class="<%= i > 0 ? 'text-center' : 'first-column' %>"><%= cell %></td>
    <% end %>
  </tr>
  <tr>
    <% scoreboard.totals_row.each.with_index do |cell, i| %>
      <th class="<%= i > 0 ? 'text-center' : 'first-column' %>"><%= cell %></th>
    <% end %>
  </tr>
  <tbody>
    <tr>
      <% scoreboard.last_row.each.with_index do |cell, i| %>
        <td class="<%= i > 0 ? 'text-center' : 'first-column' %>">
          <% if cell.is_a? Integer %>
            <%= cell %>
          <% else %>
            <% unless game.over? %>
              <%= link_to "Start Turn", rounds_path({ round: cell[:form_data] }), method: :post, class: "btn btn-primary btn-lg btn-block" %>
            <% end %>
          <% end %>
          </td>
      <% end %>
    </tr>
    <% unless game.over? || scoreboard.add_next_row? %>
      <tr>
        <% scoreboard.next_round_row.each.with_index do |cell, i| %>
            <td class="<%= i > 0 ? 'text-center' : 'first-column' %>">
              <% if cell.is_a? Integer %>
                <%= cell %>
              <% else %>
                <%= link_to "Start Turn", rounds_path({ round: cell[:form_data] }), method: :post, class: "btn btn-primary btn-lg btn-block" %>
              <% end %>
            </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
